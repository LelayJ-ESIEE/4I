#include "../include/gestionFichiers.h"

int main(int argc, char* argv[]){

    int fd;
    char* s;
    int i;
    
    if(argc < 2){
        printf("Missing argument : Please give a file path in argument\n");
        return 2;
    }

    fd = open(argv[1],O_RDONLY);
    if(fd == -1){
        perror("Error on open");
        return 1;
    }

    s = litLigne(fd);
    if(s != NULL){
        printf("Read line in %s : <%s>\n", argv[1], s);
        free(s);
    }

    i = close(fd);
    if(i == -1) {
        perror("Error on close");
        return 3;
    }
    
    return 0;
}